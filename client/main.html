<head>
    <title>Time Entry</title>
</head>

<body>




<div id="main-pane">
<div id="TopBar">
<nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <span>{{> pages}}</span>
      <span>
    <div id="login">
        {{> loginButtons align="right"}}
    </div>
      </span>
    </div>
  </div>
</nav>
</div>
    {{> mainSelector}}
</div>

</body>

<template name="pages">
    <div class="menu-options">
        <div id='time_sheet' class="tag">
            Time Sheet
        </div>
        <div id='project_settings' class="tag">
            Projects
        </div>
        <div id='employees_settings' class="tag">
            Employees
        </div>
    </div>
</template>



<template name="mainSelector">
    {{#if isTimesheet}}
        {{> activeTimesheets}}
    {{/if}}
    {{#if isProjectSettings}}
        {{> projectSettings}}
    {{/if}}
    {{#if isEmployeeSettings}}
        {{> employeeSettings}}
    {{/if}}
    {{#if isSelectedTimesheet}}
        {{> SelectedTimesheet}}
    {{/if}}
</template>

<template name="SelectedTimesheet">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2 col-sm-2 col-xs-2">Project</div>
            <div class="col-md-1 col-sm-1 col-xs-1">S</div>
            <div class="col-md-1 col-sm-1 col-xs-1">M</div>
            <div class="col-md-1 col-sm-1 col-xs-1">T</div>
            <div class="col-md-1 col-sm-1 col-xs-1">W</div>
            <div class="col-md-1 col-sm-1 col-xs-1">T</div>
            <div class="col-md-1 col-sm-1 col-xs-1">F</div>
            <div class="col-md-1 col-sm-1 col-xs-1">S</div>
            <div class="col-md-3 col-sm-3 col-xs-3">Comment</div>
        </div>
        {{> projectHours}}
        <br>
        {{> lastSection}}
    </div>
</template>
    
<template name="lastSection">
    <div class="row">
        <div class="col-md-11 col-sm-11 col-xs-11">General Comment</div>
        <div class="col-md-1 col-sm-1 col-xs-1"></div>
    </div>
    <div class="row">
        <div class="col-md-11 col-sm-11 col-xs-11"><input id="Comment" type="text" class="form-control" value=""></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><button type="button" class="btn btn-primary">Submit</button></div>
    </div>
</template>

<template name="activeTimesheets">
    {{#if currentUser}}
    <div class="container-fluid">
        <h1>Timesheets</h1>
        <h2>Active</h2>
            <div class="row">
                <div class="col-md-2 col-sm-2 col-xs-2">Start Date</div>
                <div class="col-md-1 col-sm-1 col-xs-1">Sun</div>
                <div class="col-md-1 col-sm-1 col-xs-1">M</div>
                <div class="col-md-1 col-sm-1 col-xs-1">T</div>
                <div class="col-md-1 col-sm-1 col-xs-1">W</div>
                <div class="col-md-1 col-sm-1 col-xs-1">Tr</div>
                <div class="col-md-1 col-sm-1 col-xs-1">F</div>
                <div class="col-md-1 col-sm-1 col-xs-1">Sat</div>
            </div>
            {{#each timesheet}}
              <!-- {{#if active}} -->
                {{> timesheetInfo}}
              <!-- {{/if}} -->
            {{/each}}
            <div class="col-md-2 col-sm-2 col-xs-2"><button type="button" class="btn btn-primary">Add</button></div>

    </div>
    {{/if}}
</template>

<template name="projectHours">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2">{{> projectListDropDown}}</div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Sunday" type="text" class="form-control" value="0"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Monday" type="text" class="form-control" value="0"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Tuesday" type="text" class="form-control" value="0"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Wednesday" type="text" class="form-control" value="0"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Thursday" type="text" class="form-control" value="0"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Friday" type="text" class="form-control" value="0"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Saturday" type="text" class="form-control" value="0"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"><input id="Comment" type="text" class="form-control" value=""></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><button type="button" class="btn btn-primary">Add</button></div>
    </div>
</template>

<template name="projectListDropDown">
    <select id="project_select" class="form-control">
        {{#each employees}}
            <option value={{name}}>{{name}}</option>
        {{/each}}
    </select>
</template>

<template name="timesheetInfo">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2"><input id="StartDate" type="text" class="form-control" value={{startDate}} readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Sunday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Monday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Tuesday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Wednesday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Thursday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Friday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><input id="Saturday" type="text" class="form-control" value="0" readonly></div>
        <div class="col-md-2 col-sm-2 col-xs-2"><button type="button" class="btn btn-primary">Edit</button></div>
    </div>
</template>

<template name="projectSettings">
    <div class="container-fluid">
        <h1>Projects</h1>
        <h2>Active</h2>
        {{> activeProjects}}
        <br>
        <h2>Add a Project</h2>
        {{> addProject}}
        <h2>Archived</h2>
        {{> archivedProjects}}
    </div>
</template>

<template name="activeProjects">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2">Charge Number</div>
        <div class="col-md-2 col-sm-2 col-xs-2">Project Name</div>
        <div class="col-md-2 col-sm-2 col-xs-2">Start Date</div>
        <div class="col-md-2 col-sm-2 col-xs-2">End Date</div>
        <div class="col-md-2 col-sm-2 col-xs-2">Manager</div>
    </div>
    {{#each projects}}
        {{#if isActive end_date}}
            {{> projectInfo}}
        {{/if}}
    {{/each}}
</template>

<template name="projectInfo">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control charge_number" id="charge_number" value={{id}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control  project_name" id="project_name" value={{name}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control date" id="start_date" value={{start_date}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control date" id="end_date" value={{end_date}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control manager" id="manager" value={{manager}}></div>
    </div>
</template>

<template name="addProject">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control" id="charge_number_to_add" placeholder="Charge Number"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control" id="project_name_to_add" placeholder="Project Name"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control" id="start_date_to_add" placeholder="Start Date"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="form-control" id="end_date_to_add" placeholder="End Date"></div>
        <div class="col-md-2 col-sm-2 col-xs-2">{{> employeesListDropDown}}</div>
        <div class="col-md-2 col-sm-2 col-xs-2"><button type="button" class="btn btn-primary">Add</button></div>
    </div>
</template>

<template name="employeesListDropDown">
    <select id="manager_to_add" class="form-control">
        {{#each employees}}
            <option value={{username}}>{{username}}</option>
        {{/each}}
    </select>
</template>

<template name="archivedProjects">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2">Charge Number</div>
        <div class="col-md-2 col-sm-2 col-xs-2">Project Name</div>
        <div class="col-md-2 col-sm-2 col-xs-2">Start Date</div>
        <div class="col-md-2 col-sm-2 col-xs-2">End Date</div>
        <div class="col-md-2 col-sm-2 col-xs-2">Manager</div>
    </div>
    {{#each projects}}
        {{#if isArchived end_date}}
            {{> projectInfo}}
        {{/if}}
    {{/each}}
</template>

<template name="employeeSettings">
    <div class="container-fluid">
        <h1>Employees</h1>
        {{>employees_Template}}
    </div>
</template>

<template name="employees_Template">
    <div class="row">
        <div class="col-md-2">Employee Name</div>
        <div class="col-md-2">Projects</div>
        <div class="col-md-2">Full-time/Part-time</div>
    </div>

    {{#each employees}}
        <div class="row">
            <div class="col-md-2" value={{username}}>{{username}}</div>
            <div class="col-md-2">
                <div id="items-view">
                    <ul id="item-list">
                        {{> associatedProjects}}
                    </ul>
                </div>
            </div>
            <div class="col-md-2">
                <div>
                    <input name="{{id}}" type="radio" class="full" checked="{{fulltime}}">
                    {{#if fulltime }}
                        <input name="{{id}}" type="radio" class="part">
                    {{else}}
                        <input name="{{id}}" type="radio" class="part" checked>
                    {{/if}}
                </div>
            </div>
        </div>
    {{/each}}
</template>

<template name="associatedProjects">
    <li class="todo {{doneClass}}">
        <div class="item-tags" id="{{_id}}">
            {{#each projects}}
                <div class="tag removable_tag">
                    <div class="name" id="test">{{this}}</div>
                    <div class="remove"></div>
                </div>
            {{/each}}
            {{#if addingTag}}
                <div class="tag edittag">
                    <select id="edittag-input">
                        {{#each chargeNumbers}}
                            {{#if isActive end_date}}
                                <option value="{{id}}">{{id}}</option>
                            {{/if}}
                        {{/each}}
                    </select>
                </div>
            {{else}}
                <div class="tag addtag">
                    +tag
                </div>
            {{/if}}
        </div>
    </li>
</template>


